<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Annex: Compile-Time Errors</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="Errors">Annex: Compile-Time Errors </a></h1>This section presents a (not complete) list of common compile-time errors that might be encountered when compiling contracts.<p>
Some incorrect uses of the library are checked at compile-time (using <a class="el" href="Bibliography.html#Boost">Boost.MPL</a> static assertions) and they generate compiler error messages containing text of the form <code>DBC_ERROR_</code>... .<p>
This library heavily uses templates. Usually, compiler errors for C++ templates are somewhat difficult to understand because of the genericity of the template mechanism and related errors.<p>
This library uses code blocks passed as macro parameters (e.g., body, preconditions, postconditions, invariants). When a code block is passed as a single macro parameter, the compiler interprets it as being on a single line and error line numbers loose quite a bit of their usefulness. To limit this situation, it is strongly suggested to keep the contract code simple (so the errors can be found easily even if the line numbers are not exact) and to <a class="el" href="Writing_Contracts.html#Separating_Declaration_and_Definition">separate</a> contract declarations from body definitions (so complex body implementation code is separate from the contract, it is not passed as a single macro parameter, and complier error line numbers will be exact).<p>
The error messages presented here refer to the format used by the <code>g++</code> 4.2.4 C++ compiler. Other C++ compilers may generate different error messages but the cause of the error should still apply.<p>
<dl>
<dt><code>warning: ‘class <a class="el" href="classdbc_1_1fun.html" title="Template used by the code-based API to specify contracts for functions with given...">dbc::fun</a>&lt;...&gt;...’ is already a friend of ‘...’</code> </dt>
<dd>This is the only warning generated by the library that should be ignored.<br>
 This is due to the macro-based API automatically specifying the same contract type as friend more than one time across different member functions. <br>
 If your complier selectively allows to turn this warning off, you can safely do so and then compile with warning threated as errors (<code>-Werror</code> option for <code>g++</code>). Unfortunately, <code>g++</code> 4.2.4 does not yet support to turn this warning off (future <code>g++</code> versions might support this via <code>#pragma GCC diagnostic ignored "-W..."</code>) so the <code>-Werror</code> option cannot be used (but this is the only warning generated by this library that should be ignored). </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ‘dbc_invariant_’ was not declared in this scope</code> </dt>
<dd>Did you forget to add <code><a class="el" href="invariant_8hpp.html#fd939e7c1754a61a57c20bb7c6422ed4" title="This macro must be used within the class declaration and it specifies the invariants...">DBC_INVARIANT()</a></code> at the end of the class? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ‘mem’ is not a template</code> </dt>
<dd>Make sure <code>class_type</code> is specified to be a template using the <code>template</code> keyword: for the macro-based API use <code>(template)(class_type)</code>, for the code-based API use <code>dbc::fun&lt;&gt;::mem::template class_type</code>. </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: invalid use of non-static data member ‘...’</code> </dt>
<dd>Did you forget to use <code>self</code>? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: no match for ‘...’ in ‘...’</code> </dt>
<dd>Did you forget <code>.now</code> or <code>.old</code> in postconditions on either <code>self</code> or a function argument? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ‘...’ has no member named ‘old’</code> </dt>
<dd>Are you using <code>.old</code> on either <code>self</code> or a function argument without specifying it <code><a class="el" href="post_8hpp.html#b10fbb20732d114633c59fa07be8222a" title="This macro marks the specified type copyable so its value before the body execution...">DBC_COPYABLE()</a></code> (or <code><a class="el" href="classdbc_1_1copyable.html" title="Indicate the specified type is copyable to support the &quot;old&quot; postfix in...">dbc::copyable</a></code>) in the contract signature? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: macro "DBC_..." passed ... arguments, but takes just ...</code> </dt>
<dd>Does one or more passed macro parameter contain a comma "," not wrapped in parenthesis "()"? If so, use <code><a class="el" href="mparam_8hpp.html#8ee8cdd53b9cc3060ecef82fc02a8a4a" title="This macro is used to pass macro parameters containing commas.">DBC_MPARAM()</a></code>. </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>.../post.hpp:... error: cannot allocate an object of abstract type ‘...’</code> </dt>
<dd>Did you specified an abstract type copyable? (Abstract types, with one or more pure virtual function, cannot be allocated and therefore they cannot be copied.) </dd>
<dt><code>error: ...DBC_ERROR_class_must_privately_inherit_from_dbc_object_...</code> </dt>
<dd>Did you forget to inherit (privately) from <code><a class="el" href="classdbc_1_1object.html" title="Any class with a contract must privately inherit from this base object class.">dbc::object</a></code>? If so, use <code><a class="el" href="object_8hpp.html#126883cfec96cafb25d481c5b1e6df61" title="This macro must follow the class type name and it privately derives the class from...">DBC_INHERIT_OBJECT()</a></code> or <code><a class="el" href="object_8hpp.html#64d183bdaf93713b7beb33fa120c27c9" title="This macro must follow the last base class type name and if privately derives the...">DBC_MULTI_INHERIT_OBJECT()</a></code>. </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_missing_function_name_...</code> </dt>
<dd>Did you forget to specify the <code>function_name</code> in <em>signature</em> argument of <code><a class="el" href="mfun_8hpp.html#2872f212b72c32e6254e34086e9714bf" title="This macro must follow the member function declaration matching the specified signature...">DBC_MEM_FUN()</a></code>? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_missing_function_arguments_...</code> </dt>
<dd>Did you forget to specify the function arguments in <em>signature</em> argument of <code><a class="el" href="mfun_8hpp.html#2872f212b72c32e6254e34086e9714bf" title="This macro must follow the member function declaration matching the specified signature...">DBC_MEM_FUN()</a></code> or similar macro? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_missing_class_type_...</code> </dt>
<dd>Did you forget to specify the <code>class_type</code> in <em>signature</em> argument of <code><a class="el" href="mfun_8hpp.html#2872f212b72c32e6254e34086e9714bf" title="This macro must follow the member function declaration matching the specified signature...">DBC_MEM_FUN()</a></code> or similar macro? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_class_type_cannot_be_specified_copyable_in_this_context_...</code> </dt>
<dd>Did you specified <code><a class="el" href="post_8hpp.html#b10fbb20732d114633c59fa07be8222a" title="This macro marks the specified type copyable so its value before the body execution...">DBC_COPYABLE()</a></code> (or <code><a class="el" href="classdbc_1_1copyable.html" title="Indicate the specified type is copyable to support the &quot;old&quot; postfix in...">dbc::copyable</a></code>) the class type for a constructor or destructor? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_missing_base_class_type_in_DBC_BASE_specifier_...</code> </dt>
<dd>Did you forget to specify the <code>class_type</code> in <code><a class="el" href="mfun_8hpp.html#1c6dab06912180abfed3dc7f5b3006e3" title="This macro specifies the base class from which an overriding member function is subcontracting...">DBC_BASE()</a></code>? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_constructors_may_not_be_cv_qualified_...</code> </dt>
<dd>Did you specify constructor function <code>const</code>? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_constructor_cannot_have_return_value_not_even_void_...</code> </dt>
<dd>Did you attempt to specify <code>void</code> as return value for a constructor? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_return_type_specification_for_constructor_invalid_...</code> </dt>
<dd>Did you attempt to specify a return value for a constructor? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_destructors_may_not_be_cv_qualified_...</code> </dt>
<dd>Did you specify destructor function <code>const</code>? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_return_type_specification_for_destructor_invalid_...</code> </dt>
<dd>Did you attempt to specify a return value for a destructor? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_class_type_C_must_be_a_class_...</code> </dt>
<dd>Did you specified a non-class type (e.g., <code>int</code>, <code>float</code>, etc) as class type? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_base_contract_type_B_must_be_a_class_,...</code> </dt>
<dd>Did you specified a non-class type (e.g., <code>int</code>, <code>float</code>, etc) as the base contract class type? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_class_type_cannot_be_specified_copyable_in_constructor_...</code> </dt>
<dd>Did you specified <code><a class="el" href="post_8hpp.html#b10fbb20732d114633c59fa07be8222a" title="This macro marks the specified type copyable so its value before the body execution...">DBC_COPYABLE()</a></code> (or <code><a class="el" href="classdbc_1_1copyable.html" title="Indicate the specified type is copyable to support the &quot;old&quot; postfix in...">dbc::copyable</a></code>) the class type for a constructor? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: ...DBC_ERROR_class_type_cannot_be_specified_copyable_in_destructor_...</code> </dt>
<dd>Did you specified <code><a class="el" href="post_8hpp.html#b10fbb20732d114633c59fa07be8222a" title="This macro marks the specified type copyable so its value before the body execution...">DBC_COPYABLE()</a></code> (or <code><a class="el" href="classdbc_1_1copyable.html" title="Indicate the specified type is copyable to support the &quot;old&quot; postfix in...">dbc::copyable</a></code>) the class type for a destructor? </dd>
<dt></dt>
<dd><br>
 </dd>
<dt><code>error: expected unqualified-id before '{' token </code></dt>
<dd><code>Do you have a ';' between the function signature and the DBC function contract macro? </code></dd>
<dt></dt>
<dd><code><br>
 </code></dd>
<dt><code>error: redefinition of '...' error: '...' previously defined here </code></dt>
<dd><code><code>Did you forget to use DBC_BODY? </code></code></dd>
</dl>
<p>
<code><code><br>
 </code></code><p>
<code><code><code>error: '...' is not a type Is the class a template and if so, did you specify it as such using the "(template)" keyword in the macro API? </code></code></code><p>
<code><code><code> </code></code></code></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Nov 21 11:16:02 2009 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
