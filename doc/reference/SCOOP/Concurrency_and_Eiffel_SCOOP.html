<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>


<!-- 

     WARNING!  

     This is generated code.  Find the source .m4 file and edit that instead!

-->


<title>Phil Brooke: Concurrency and Eiffel</title>
<meta name="author" content="Phil Brooke">
<meta name="description" content="Phil Brooke: Concurrency and Eiffel">
<link rev="made" href="mailto:pjb@scm.tees.ac.uk">
<link rel="stylesheet" href="Concurrency_and_Eiffel_SCOOP_files/css1.css">
<meta http-equiv="Content-type" content="text/html; charset=UTF-8">
</head><body>
<hr>
<div class="navbar">
<div style="float: right; text-align: right; width: 30%;">
[<a href="http://www.tees.ac.uk/">University&nbsp;of&nbsp;Teesside</a>]
<br>
<span style="font-style: italic;">School of Computing (SCM): </span>
[<a href="http://www.scm.tees.ac.uk/">WWW</a>]
[<a href="http://outranet.scm.tees.ac.uk/">Intranet/Outranet</a>]
</div>
<div style="float: left; text-align: left; width: 55%;">
<span style="font-weight: bolder;">PB's&nbsp;WWW&nbsp;pages:</span>
[<a href="https://www.scm.tees.ac.uk/p.j.brooke/">Home</a>]
[<a href="https://www.scm.tees.ac.uk/p.j.brooke/research.html">Research</a>]
[<a href="https://www.scm.tees.ac.uk/p.j.brooke/publications.html">Publications</a>]
[<a href="https://www.scm.tees.ac.uk/p.j.brooke/a/">Misc&nbsp;papers/resources</a>]
[<a href="https://www.scm.tees.ac.uk/p.j.brooke/cspsim/">CSPsim</a>]
[<a href="https://www.scm.tees.ac.uk/p.j.brooke/contact.html">Contact</a>]
[<a href="https://www.scm.tees.ac.uk/p.j.brooke/keys.html">OpenPGP&nbsp;key</a>]
[<a href="https://www.scm.tees.ac.uk/p.j.brooke/email-advice.html">Email&nbsp;advice</a>]
<br>
<span style="font-style: italic;">PB's&nbsp;intranet&nbsp;pages:</span>
[<a href="http://outranet.scm.tees.ac.uk/users/u0022088/">Home</a>]
[<a href="http://outranet.scm.tees.ac.uk/users/u0022088/seminars.html">Seminars</a>]
[<a href="http://outranet.scm.tees.ac.uk/users/u0022088/plan.html">Schedule/.plan</a>]
[<a href="http://outranet.scm.tees.ac.uk/users/u0022088/aboutme.html">About</a>]
[<a href="http://outranet.scm.tees.ac.uk/users/u0022088/project-suggestions.html">Project&nbsp;ideas</a>]
</div>
</div>

<div style="float: none; clear: both;"></div>

<hr>
 

<h1>Phil Brooke: Concurrency and Eiffel (and a bit about SCOOP and lock-passing)</h1>

<hr> 

<p>A major area of my work involves concurrency in Eiffel.</p>

<p> The Simple Concurrent Object-Oriented Programming (SCOOP)
<a href="#Meyer97"><sup>7</sup></a> 
<a href="#Nienaltowski__04"><sup>1</sup></a> mechanism is proposed as a way to
introduce inter-object concurrency into the Eiffel programming
language <a href="#Meyer97"><sup>7</sup></a> 
<a href="#ECMA05"><sup>2</sup></a>. SCOOP extends the Eiffel language
by adding one keyword, <b>separate</b>, which can be applied to classes,
entities, and formal routine arguments.  Application of <b>separate</b> to
a class indicates that objects of that class execute in their own
(conceptual) `thread' of control.  Further, <b>separate</b> applied to
entities means that the attached object is (potentially) running on a
different subsystem, and when applied to a parameters of a feature
call, indicates that the attached object should be reserved (locked)
for the duration of that call.  </p>

<p> Previous attempts to implement SCOOP have proved difficult: it
appears that the major reason is that both the SCOOP mechanism and its
underlying semantics are both complex to understand and thus difficult
to implement in a compiler and run-time environment.  The complexities
inherent in the interactions between the language and the implicit,
underlying run-time system are potentially confusing.
</p>

<p>
A number of papers are in review for journals or conferences:
</p>
<ul>
<li><a href="#Brooke__05a"><sup>6</sup></a> models SCOOP (as it is currently understood) using the process algebra CSP. </li>
<li><a href="#Brooke__06b"><sup>4</sup></a> gives a critique of SCOOP, mostly following the insights from 
<a href="#Brooke__05a"><sup>6</sup></a>. </li>
<li><a href="#Brooke__06c"><sup>3</sup></a> gives a description (and outline CSP model) of a
possible alternative model of concurrency for Eiffel.</li>
<li><a href="#Jacob__06a"><sup>5</sup></a> is a very different model of concurrency, aimed at
the SCOOPY (i.e., SCOOP at York; aka RECOOP) variant.</li>
</ul>

<p>One notable point arises from the description of <em>locking</em>
or <em>reserving</em> arguments.  An attempt in (August-October) 2004 to model SCOOP in
CSP is the ancestor of the work reported in <a href="#Brooke__05a"><sup>6</sup></a>.
The problem that was identified  is as follows: </p>

<p>
The execution of a feature call requires the reservation (locking) of
each of the separate objects given in the parameters of that call.
One problem concerns chains of such calls, each of which
reserves the same separate object.  If <i>a.f</i>, i.e., feature <i>f</i> of
the object attached to entity <i>a</i>, wishes to call feature <i>b.g</i>, then
the current model of SCOOP requires that
</p>
<ol>
<li> <i>a</i> must have a  reservation on <i>b</i> before it can
  call <i>g</i> in <i>b</i>.  </li>
<li> <i>b</i> needs to obtain reservations on each (separate) argument
  in the call before it can execute <i>g</i>.  </li>
</ol>
<p>Now suppose that <i>b.g</i> is a function call and that <i>a.f</i> requires the
result of that call before it can proceed past a certain point.
Moreover, <i>a</i> also holds the reservation on a further separate object
<i>s</i> and <i>s</i> is one of the arguments to <i>b.g</i>.  In this case, deadlock
will result:</p>
<ul>
<li> <i>a.f</i> cannot make progress because it requires <i>b.g</i> to return
  its result; but  </li>
<li> <i>b.g</i> cannot start because <i>a.f</i> has reserved <i>s</i>; and  </li>
<li> <i>a.f</i> will not release <i>s</i> until it has finished.  </li>
</ul>
<p>
This is clearly undesirable (as it will result in deadlock) and is a serious problem since
object-oriented programming often includes chains of calls passing on
the same argument.
</p>

<p>The paper <a href="#Brooke__05a"><sup>6</sup></a>
proposes that this problem is
solved by allowing features to `pass on' their reservations to calls
they themselves make; while they have passed on their reservation,
they cannot make progress that requires it.  Indeed, I have been
advocating this solution since then: in  October 2004, I explained
this problem and the solution (i.e., lock-passing or
reservation-passing) to Bertrand Meyer and one of his PhD students.
With my co-author(s), I have continued to develop a CSP model of
SCOOP, and am now looking at related issues.</p>

<p><i>7th April 2006</i></p>

<p><i>18th October 2006</i>: a mechanical implementation using 
<a href="https://www.scm.tees.ac.uk/p.j.brooke/cspsim/">CSPsim</a>
is available from
<a href="https://www.scm.tees.ac.uk/p.j.brooke/ce1/">here</a>.</p>

<h2>References</h2>

<ul>

<li> <a name="Nienaltowski__04"><!-- Nienaltowski+04 --> <b><sup>1</sup></b> 
P. Nienaltowski, V. Arslan, and B. Meyer.
 <span>SCOOP</span>: Concurrent programming made easy.
 Draft paper from ETH Z\"urich,  http://se.inf.ethz.ch/people/nienaltowski/papers/scoop\_easy\_draft.pdf,  2004.
</a></li>
<li><a name="Nienaltowski__04"> </a><a name="ECMA05"><!-- ECMA05 --> <b><sup>2</sup></b> 
<span>ECMA-367: Eiffel</span> analysis, design and programming language.
 <span>ECMA</span> International, June 2005.
</a></li>
<li><a name="ECMA05"> </a><a name="Brooke__06c"><!-- Brooke+06c --> <b><sup>3</sup></b> 
Phillip J. Brooke and Richard F. Paige.
 An alternative model of concurrency for <span>Eiffel</span>.
 In Richard F. Paige and Phillip J. Brooke, editors, <span style="font-style: italic;"> Proc. First  International Symposium on Concurrency, Real-Time, and Distribution in  Eiffel-like Languages (CORDIE)</span>, number YCS-TR-405. University of York, July  2006.
</a></li>
<li><a name="Brooke__06c"> </a><a name="Brooke__06b"><!-- Brooke+06b --> <b><sup>4</sup></b> 
Phillip J. Brooke and Richard F. Paige.
 A critique of <span>SCOOP</span>.
 In Richard F. Paige and Phillip J. Brooke, editors, <span style="font-style: italic;"> Proc. First  International Symposium on Concurrency, Real-Time, and Distribution in  Eiffel-like Languages (CORDIE)</span>, number YCS-TR-405. University of York, July  2006.
</a></li>
<li><a name="Brooke__06b"> </a><a name="Jacob__06a"><!-- Jacob+06a --> <b><sup>5</sup></b> 
Jeremy L. Jacob and Phillip J. Brooke.
 A sketch of a <span>CSP semantics for RECOOP</span>.
 Submitted to CORDIE06, March 2006.
</a></li>
<li><a name="Jacob__06a"> </a><a name="Brooke__05a"><!-- Brooke+05a --> <b><sup>6</sup></b> 
Phillip J. Brooke, Richard F. Paige, and Jeremy L. Jacob.
 A <span>CSP model of Eiffel's SCOOP</span>.
 To appear in Formal Aspects of Computing, 2007.
</a></li>
<li><a name="Brooke__05a"> </a><a name="Meyer97"><!-- Meyer97 --> <b><sup>7</sup></b> 
Bertrand Meyer.
 <span style="font-style: italic;"> Object-Oriented Software Construction</span>.
 Prentice Hall, 2nd edition, 1997.
</a></li>
</ul>




<div style="float: none; clear: both;"></div>

<hr>
<p class="tail">
<a name="Meyer97">Send comments about this page to
</a><a href="mailto:pjb@scm.tees.ac.uk">pjb@scm.tees.ac.uk</a>
</p>
 

</body></html>